{
  "body_html": "<div><head></head><body>&#x914D;&#x7F6E;&#x6587;&#x4EF6;\n    \n    \n    \n    \n    \n  <link href=\"https://www.yuque.com/attachments/yuque/0/2020/css/491128/1588213910235-976bcd3a-7a9c-473d-b800-1b1df54807d4.css\" rel=\"stylesheet\" type=\"text/css\">\n<link href=\"https://www.yuque.com/attachments/yuque/0/2020/css/491128/1588213910286-64db0dd0-ac29-46fb-9241-76ef318b1b53.css\" rel=\"stylesheet\" type=\"text/css\">\n\n  \n        \n<div class=\"page\">\n    \n        <h1 class=\"book-chapter\" id=\"calibre_toc_37\">&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h1>\n        <div class=\"section\">\n            <h1 id=\"&#x914D;&#x7F6E;&#x6587;&#x4EF6;\" class=\"calibre7\">&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h1>\n<p class=\"calibre12\">elasticsearch&#x9ED8;&#x8BA4;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5DF2;&#x7ECF;&#x8BBE;&#x7F6E;&#x7684;&#x5F88;&#x597D;&#x4E86;&#xFF0C;&#x901A;&#x8FC7;&#x8C03;&#x6574;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5927;&#x5E45;&#x63D0;&#x5347;&#x6027;&#x80FD;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x4E0D;&#x9AD8;&#x3002;&#x5728;&#x9047;&#x5230;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x65F6;&#x901A;&#x5E38;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x589E;&#x52A0;&#x5355;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5904;&#x7406;&#x5B58;&#x50A8;&#x80FD;&#x529B;&#x6216;&#x589E;&#x52A0;&#x96C6;&#x7FA4;&#x7684;&#x8282;&#x70B9;&#x6570;&#x3002;</p>\n<h2 id=\"&#x8BBE;&#x7F6E;&#x96C6;&#x7FA4;&#x540D;&#x79F0;&#xFF08;clustername&#xFF09;\" class=\"calibre13\">&#x8BBE;&#x7F6E;&#x96C6;&#x7FA4;&#x540D;&#x79F0;&#xFF08;cluster.name&#xFF09;</h2>\n<p class=\"calibre12\">&#x9ED8;&#x8BA4;&#x7684;&#x96C6;&#x7FA4;&#x540D;&#x79F0;&#x662F;&#x201C;elasticsearch&#x201D;&#xFF0C;&#x5EFA;&#x8BAE;&#x7528;&#x6237;&#x5BF9;&#x9ED8;&#x8BA4;&#x540D;&#x79F0;&#x8FDB;&#x884C;&#x66F4;&#x6539;&#xFF0C;&#x4EE5;&#x9632;&#x6B62;&#x672A;&#x77E5;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x90E8;&#x7F72;&#x7684;elasticsearch&#x7A0B;&#x5E8F;&#x610F;&#x5916;&#x52A0;&#x5165;&#x5230;&#x5F53;&#x524D;&#x7684;&#x96C6;&#x7FA4;&#x4E2D;&#x3002;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">cluster.name: elasticsearch_security\n</code></pre><h2 id=\"&#x8BBE;&#x7F6E;&#x8282;&#x70B9;&#x540D;&#x79F0;\" class=\"calibre13\">&#x8BBE;&#x7F6E;&#x8282;&#x70B9;&#x540D;&#x79F0;</h2>\n<p class=\"calibre12\">&#x6BCF;&#x6B21;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x81EA;&#x5DF1;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x540D;&#x79F0;&#xFF0C;&#x5EFA;&#x8BAE;&#x8FD9;&#x91CC;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x7684;&#x8282;&#x70B9;&#x540D;&#x79F0;&#xFF0C;&#x4EE5;&#x514D;&#x6BCF;&#x6B21;&#x542F;&#x52A8;&#x7684;&#x8282;&#x70B9;&#x540D;&#x79F0;&#x4E0D;&#x540C;&#x3002;</p>\n<p class=\"calibre12\">&#x8BBE;&#x7F6E;&#x65B9;&#x6CD5;&#xFF1A;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">node.name: elasticsearch_005_data\n</code></pre><h2 id=\"&#x8BBE;&#x7F6E;&#x8DEF;&#x5F84;\" class=\"calibre13\">&#x8BBE;&#x7F6E;&#x8DEF;&#x5F84;</h2>\n<p class=\"calibre12\">&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;elasticsearch&#x7684;data&#x3001;log&#x7B49;&#x8DEF;&#x5F84;&#x662F;&#x5728;&#x5B89;&#x88C5;&#x5305;&#x5185;&#x7684;&#x5EFA;&#x8BAE;&#x4FEE;&#x6539;&#x8FD9;&#x4E00;&#x8DEF;&#x5F84;&#xFF0C;&#x539F;&#x56E0;&#x662F;&#x66F4;&#x6362;&#x65B0;&#x7248;&#x672C;&#x5B89;&#x88C5;&#x5305;&#x5BB9;&#x6613;&#x5C06;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x6570;&#x636E;&#x8986;&#x76D6;&#x6389;&#x3002;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x7684;&#x8DEF;&#x5F84;&#x5206;&#x522B;&#x662F;&#xFF1A;&#x6570;&#x636E;&#x8DEF;&#x5F84;&#x3001;&#x65E5;&#x5FD7;&#x8DEF;&#x5F84;&#x3001;&#x63D2;&#x4EF6;&#x8DEF;&#x5F84;&#x3002;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">path.data: /path/to/data1,/path/to/data2 \n\n# Path to log files:\npath.logs: /path/to/logs\n\n# Path to where plugins are installed:\npath.plugins: /path/to/plugins\n</code></pre><p class=\"calibre12\">&#x6CE8;&#xFF1A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x591A;&#x4E2A;&#x6587;&#xFF0C;&#x4E2D;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;</p>\n<h2 id=\"minimum-master-nodes&#x8BBE;&#x7F6E;\" class=\"calibre13\">Minimum Master Nodes&#x8BBE;&#x7F6E;</h2>\n<p class=\"calibre12\">&#x8BBE;&#x7F6E;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x6765;&#x4FDD;&#x8BC1;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x8282;&#x70B9;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x5176;&#x5B83;N&#x4E2A;&#x6709;master&#x8D44;&#x683C;&#x7684;&#x8282;&#x70B9;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF0C;&#x5BF9;&#x4E8E;&#x5927;&#x7684;&#x96C6;&#x7FA4;&#x6765;&#x8BF4;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5927;&#x4E00;&#x70B9;&#x7684;&#x503C;&#xFF08;2-4&#xFF09;</p>\n<p class=\"calibre12\">&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x63A7;&#x5236;&#x7684;&#x662F;&#xFF0C;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x9700;&#x8981;&#x770B;&#x5230;&#x7684;&#x5177;&#x6709;master&#x8282;&#x70B9;&#x8D44;&#x683C;&#x7684;&#x6700;&#x5C0F;&#x6570;&#x91CF;&#xFF0C;&#x7136;&#x540E;&#x624D;&#x80FD;&#x5728;&#x96C6;&#x7FA4;&#x4E2D;&#x505A;&#x64CD;&#x4F5C;&#x3002;&#x5B98;&#x65B9;&#x7684;&#x63A8;&#x8350;&#x503C;&#x662F;(N/2)+1&#xFF0C;&#x5176;&#x4E2D;N&#x662F;&#x5177;&#x6709;master&#x8D44;&#x683C;&#x7684;&#x8282;&#x70B9;&#x7684;&#x6570;&#x91CF;&#xFF08;&#x6211;&#x4EEC;&#x7684;&#x60C5;&#x51B5;&#x662F;3&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;2&#xFF0C;&#x4F46;&#x5BF9;&#x4E8E;&#x53EA;&#x6709;2&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;2&#x5C31;&#x6709;&#x4E9B;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x4E00;&#x4E2A;&#x8282;&#x70B9;DOWN&#x6389;&#x540E;&#xFF0C;&#x4F60;&#x80AF;&#x5B9A;&#x8FDE;&#x4E0D;&#x4E0A;2&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E86;&#xFF0C;&#x8FD9;&#x70B9;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF09;&#x3002;</p>\n<p class=\"calibre12\">&#x5177;&#x4F53;&#x8FD8;&#x4EE5;&#x8FD8;&#x4E0D;&#x592A;&#x6E05;&#x695A;&#x3002;</p>\n<p class=\"calibre12\"><a href=\"https://www.elastic.co/guide/en/elasticsearch/guide/current/important-configuration-changes.html\\#\\_minimum\\_master\\_nodes\" target=\"_blank\" class=\"pcalibre pcalibre2 pcalibre1 calibre20\">https://www.elastic.co/guide/en/elasticsearch/guide/current/important-configuration-changes.html\\#\\_minimum\\_master\\_nodes</a></p>\n<p class=\"calibre12\">&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5411;&#x96C6;&#x7FA4;&#x53D1;&#x8BF7;&#x6C42;&#xFF0C;&#x5B9E;&#x73B0;&#x53C2;&#x6570;&#x7684;&#x52A8;&#x6001;&#x4FEE;&#x6539;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">PUT /_cluster/settings\n{\n    &quot;persistent&quot; : {\n        &quot;discovery.zen.minimum_master_nodes&quot; : 2\n    }\n}\n</code></pre><h2 id=\"&#x67E5;&#x5230;&#x7684;&#x8D44;&#x6599;\" class=\"calibre13\">&#x67E5;&#x5230;&#x7684;&#x8D44;&#x6599;</h2>\n<p class=\"calibre12\">elasticsearch&#x7684;config&#x6587;&#x4EF6;&#x5939;&#x91CC;&#x9762;&#x6709;&#x4E24;&#x4E2A;&#x914D;&#x7F6E;&#x6587; &#x4EF6;&#xFF1A;elasticsearch.yml&#x548C;logging.yml&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x662F;es&#x7684;&#x57FA;&#x672C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x662F;&#x65E5;&#x5FD7;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;es&#x4E5F;&#x662F;&#x4F7F;&#x7528;log4j&#x6765;&#x8BB0;&#x5F55;&#x65E5; &#x5FD7;&#x7684;&#xFF0C;&#x6240;&#x4EE5;logging.yml&#x91CC;&#x7684;&#x8BBE;&#x7F6E;&#x6309;&#x666E;&#x901A;log4j&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6765;&#x8BBE;&#x7F6E;&#x5C31;&#x884C;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x4E3B;&#x8981;&#x8BB2;&#x89E3;&#x4E0B;elasticsearch.yml&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x53EF;&#x914D;&#x7F6E;&#x7684; &#x4E1C;&#x897F;&#x3002;</p>\n<p class=\"calibre12\">cluster.name: elasticsearch<br class=\"calibre21\">&#x914D;&#x7F6E;es&#x7684;&#x96C6;&#x7FA4;&#x540D;&#x79F0;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;elasticsearch&#xFF0C;es&#x4F1A;&#x81EA;&#x52A8;&#x53D1;&#x73B0;&#x5728;&#x540C;&#x4E00;&#x7F51;&#x6BB5;&#x4E0B;&#x7684;es&#xFF0C;&#x5982;&#x679C;&#x5728;&#x540C;&#x4E00;&#x7F51;&#x6BB5;&#x4E0B;&#x6709;&#x591A;&#x4E2A;&#x96C6;&#x7FA4;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x7528;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x6765;&#x533A;&#x5206;&#x4E0D;&#x540C;&#x7684;&#x96C6;&#x7FA4;&#x3002;</p>\n<p class=\"calibre12\">node.name: &quot;Franz Kafka&quot;<br class=\"calibre21\">&#x8282;&#x70B9;&#x540D;&#xFF0C;&#x9ED8;&#x8BA4;&#x968F;&#x673A;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;name&#x5217;&#x8868;&#x4E2D;&#x540D;&#x5B57;&#xFF0C;&#x8BE5;&#x5217;&#x8868;&#x5728;es&#x7684;jar&#x5305;&#x4E2D;config&#x6587;&#x4EF6;&#x5939;&#x91CC;name.txt&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5176;&#x4E2D;&#x6709;&#x5F88;&#x591A;&#x4F5C;&#x8005;&#x6DFB;&#x52A0;&#x7684;&#x6709;&#x8DA3;&#x540D;&#x5B57;&#x3002;</p>\n<p class=\"calibre12\">node.master: true<br class=\"calibre21\">&#x6307;&#x5B9A;&#x8BE5;&#x8282;&#x70B9;&#x662F;&#x5426;&#x6709;&#x8D44;&#x683C;&#x88AB;&#x9009;&#x4E3E;&#x6210;&#x4E3A;node&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;true&#xFF0C;es&#x662F;&#x9ED8;&#x8BA4;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E3A;master&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x53F0;&#x673A;&#x6302;&#x4E86;&#x5C31;&#x4F1A;&#x91CD;&#x65B0;&#x9009;&#x4E3E;master&#x3002;</p>\n<p class=\"calibre12\">node.data: true<br class=\"calibre21\">&#x6307;&#x5B9A;&#x8BE5;&#x8282;&#x70B9;&#x662F;&#x5426;&#x5B58;&#x50A8;&#x7D22;&#x5F15;&#x6570;&#x636E;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;true&#x3002;</p>\n<p class=\"calibre12\">index.number_of_shards: 5<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x7D22;&#x5F15;&#x5206;&#x7247;&#x4E2A;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;5&#x7247;&#x3002;</p>\n<p class=\"calibre12\">index.number_of_replicas: 1<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x7D22;&#x5F15;&#x526F;&#x672C;&#x4E2A;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;1&#x4E2A;&#x526F;&#x672C;&#x3002;</p>\n<p class=\"calibre12\">path.conf: /path/to/conf<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;es&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;config&#x6587;&#x4EF6;&#x5939;&#x3002;</p>\n<p class=\"calibre12\">path.data: /path/to/data<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;es&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;data&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;&#xFF0C;&#x7528;&#x9017;&#x53F7;&#x9694;&#x5F00;&#xFF0C;&#x4F8B;&#xFF1A;<br class=\"calibre21\">path.data: /path/to/data1,/path/to/data2</p>\n<p class=\"calibre12\">path.work: /path/to/work<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;es&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;work&#x6587;&#x4EF6;&#x5939;&#x3002;</p>\n<p class=\"calibre12\">path.logs: /path/to/logs<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;es&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;logs&#x6587;&#x4EF6;&#x5939;</p>\n<p class=\"calibre12\">path.plugins: /path/to/plugins<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x63D2;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;es&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;plugins&#x6587;&#x4EF6;&#x5939;</p>\n<p class=\"calibre12\">bootstrap.mlockall: true<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x4E3A;true&#x6765;&#x9501;&#x4F4F;&#x5185;&#x5B58;&#x3002;&#x56E0;&#x4E3A;&#x5F53;jvm&#x5F00;&#x59CB;swapping&#x65F6;es&#x7684;&#x6548;&#x7387; &#x4F1A;&#x964D;&#x4F4E;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x4FDD;&#x8BC1;&#x5B83;&#x4E0D;swap&#xFF0C;&#x53EF;&#x4EE5;&#x628A;ES_MIN_MEM&#x548C;ES_MAX_MEM&#x4E24;&#x4E2A;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x8BBE;&#x7F6E;&#x6210;&#x540C;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x5E76;&#x4E14;&#x4FDD;&#x8BC1;&#x673A;&#x5668;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x5185;&#x5B58;&#x5206;&#x914D;&#x7ED9;es&#x3002; &#x540C;&#x65F6;&#x4E5F;&#x8981;&#x5141;&#x8BB8;elasticsearch&#x7684;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x9501;&#x4F4F;&#x5185;&#x5B58;&#xFF0C;linux&#x4E0B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;`ulimit -l unlimited`&#x547D;&#x4EE4;&#x3002;</p>\n<p class=\"calibre12\">network.bind_host: 192.168.0.1<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x7ED1;&#x5B9A;&#x7684;ip&#x5730;&#x5740;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;ipv4&#x6216;ipv6&#x7684;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;0.0.0.0&#x3002;</p>\n<p class=\"calibre12\">network.publish_host: 192.168.0.1<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x5176;&#x5B83;&#x8282;&#x70B9;&#x548C;&#x8BE5;&#x8282;&#x70B9;&#x4EA4;&#x4E92;&#x7684;ip&#x5730;&#x5740;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x8BBE;&#x7F6E;&#x5B83;&#x4F1A;&#x81EA;&#x52A8;&#x5224;&#x65AD;&#xFF0C;&#x503C;&#x5FC5;&#x987B;&#x662F;&#x4E2A;&#x771F;&#x5B9E;&#x7684;ip&#x5730;&#x5740;&#x3002;</p>\n<p class=\"calibre12\">network.host: 192.168.0.1<br class=\"calibre21\">&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x7528;&#x6765;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;bind_host&#x548C;publish_host&#x4E0A;&#x9762;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x3002;</p>\n<p class=\"calibre12\">transport.tcp.port: 9300<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x8282;&#x70B9;&#x95F4;&#x4EA4;&#x4E92;&#x7684;tcp&#x7AEF;&#x53E3;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;9300&#x3002;</p>\n<p class=\"calibre12\">transport.tcp.compress: true<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x538B;&#x7F29;tcp&#x4F20;&#x8F93;&#x65F6;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;false&#xFF0C;&#x4E0D;&#x538B;&#x7F29;&#x3002;</p>\n<p class=\"calibre12\">http.port: 9200<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x5BF9;&#x5916;&#x670D;&#x52A1;&#x7684;http&#x7AEF;&#x53E3;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;9200&#x3002;</p>\n<p class=\"calibre12\">http.max_content_length: 100mb<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x5185;&#x5BB9;&#x7684;&#x6700;&#x5927;&#x5BB9;&#x91CF;&#xFF0C;&#x9ED8;&#x8BA4;100mb</p>\n<p class=\"calibre12\">http.enabled: false<br class=\"calibre21\">&#x662F;&#x5426;&#x4F7F;&#x7528;http&#x534F;&#x8BAE;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;true&#xFF0C;&#x5F00;&#x542F;&#x3002;</p>\n<p class=\"calibre12\">gateway.type: local<br class=\"calibre21\">gateway&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;local&#x5373;&#x4E3A;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;hadoop&#x7684;HDFS&#xFF0C;&#x548C;amazon&#x7684;s3&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5176;&#x5B83;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x8BBE;&#x7F6E;&#x65B9;&#x6CD5;&#x4E0B;&#x6B21;&#x518D;&#x8BE6;&#x7EC6;&#x8BF4;&#x3002;</p>\n<p class=\"calibre12\">gateway.recover_after_nodes: 1<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x96C6;&#x7FA4;&#x4E2D;N&#x4E2A;&#x8282;&#x70B9;&#x542F;&#x52A8;&#x65F6;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6062;&#x590D;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;1&#x3002;</p>\n<p class=\"calibre12\">gateway.recover_after_time: 5m<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x6062;&#x590D;&#x8FDB;&#x7A0B;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;5&#x5206;&#x949F;&#x3002;</p>\n<p class=\"calibre12\">gateway.expected_nodes: 2<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x8FD9;&#x4E2A;&#x96C6;&#x7FA4;&#x4E2D;&#x8282;&#x70B9;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;2&#xFF0C;&#x4E00;&#x65E6;&#x8FD9;N&#x4E2A;&#x8282;&#x70B9;&#x542F;&#x52A8;&#xFF0C;&#x5C31;&#x4F1A;&#x7ACB;&#x5373;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6062;&#x590D;&#x3002;</p>\n<p class=\"calibre12\">cluster.routing.allocation.node_initial_primaries_recoveries: 4<br class=\"calibre21\">&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x6062;&#x590D;&#x65F6;&#xFF0C;&#x5E76;&#x53D1;&#x6062;&#x590D;&#x7EBF;&#x7A0B;&#x7684;&#x4E2A;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;4&#x3002;</p>\n<p class=\"calibre12\">cluster.routing.allocation.node_concurrent_recoveries: 2<br class=\"calibre21\">&#x6DFB;&#x52A0;&#x5220;&#x9664;&#x8282;&#x70B9;&#x6216;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x65F6;&#x5E76;&#x53D1;&#x6062;&#x590D;&#x7EBF;&#x7A0B;&#x7684;&#x4E2A;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;4&#x3002;</p>\n<p class=\"calibre12\">indices.recovery.max_size_per_sec: 0<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x6062;&#x590D;&#x65F6;&#x9650;&#x5236;&#x7684;&#x5E26;&#x5BBD;&#xFF0C;&#x5982;&#x5165;100mb&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;0&#xFF0C;&#x5373;&#x65E0;&#x9650;&#x5236;&#x3002;</p>\n<p class=\"calibre12\">indices.recovery.concurrent_streams: 5<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x6765;&#x9650;&#x5236;&#x4ECE;&#x5176;&#x5B83;&#x5206;&#x7247;&#x6062;&#x590D;&#x6570;&#x636E;&#x65F6;&#x6700;&#x5927;&#x540C;&#x65F6;&#x6253;&#x5F00;&#x5E76;&#x53D1;&#x6D41;&#x7684;&#x4E2A;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;5&#x3002;</p>\n<p class=\"calibre12\">discovery.zen.minimum_master_nodes: 1<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x6765;&#x4FDD;&#x8BC1;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x8282;&#x70B9;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x5176;&#x5B83;N&#x4E2A;&#x6709;master&#x8D44;&#x683C;&#x7684;&#x8282;&#x70B9;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF0C;&#x5BF9;&#x4E8E;&#x5927;&#x7684;&#x96C6;&#x7FA4;&#x6765;&#x8BF4;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5927;&#x4E00;&#x70B9;&#x7684;&#x503C;&#xFF08;2-4&#xFF09;</p>\n<p class=\"calibre12\">discovery.zen.ping.timeout: 3s<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x96C6;&#x7FA4;&#x4E2D;&#x81EA;&#x52A8;&#x53D1;&#x73B0;&#x5176;&#x5B83;&#x8282;&#x70B9;&#x65F6;ping&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;3&#x79D2;&#xFF0C;&#x5BF9;&#x4E8E;&#x6BD4;&#x8F83;&#x5DEE;&#x7684;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x53EF;&#x4EE5;&#x9AD8;&#x70B9;&#x7684;&#x503C;&#x6765;&#x9632;&#x6B62;&#x81EA;&#x52A8;&#x53D1;&#x73B0;&#x65F6;&#x51FA;&#x9519;&#x3002;</p>\n<p class=\"calibre12\">discovery.zen.ping.multicast.enabled: false<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x6253;&#x5F00;&#x591A;&#x64AD;&#x53D1;&#x73B0;&#x8282;&#x70B9;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;true&#x3002;</p>\n<p class=\"calibre12\">discovery.zen.ping.unicast.hosts: [&quot;host1&quot;, &quot;host2:port&quot;, &quot;host3[portX-portY]&quot;]<br class=\"calibre21\">&#x8BBE;&#x7F6E;&#x96C6;&#x7FA4;&#x4E2D;master&#x8282;&#x70B9;&#x7684;&#x521D;&#x59CB;&#x5217;&#x8868;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x8282;&#x70B9;&#x6765;&#x81EA;&#x52A8;&#x53D1;&#x73B0;&#x65B0;&#x52A0;&#x5165;&#x96C6;&#x7FA4;&#x7684;&#x8282;&#x70B9;&#x3002;</p>\n<p class=\"calibre12\">&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E9B;&#x67E5;&#x8BE2;&#x65F6;&#x7684;&#x6162;&#x65E5;&#x5FD7;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;<br class=\"calibre21\">index.search.slowlog.level: TRACE<br class=\"calibre21\">index.search.slowlog.threshold.query.warn: 10s<br class=\"calibre21\">index.search.slowlog.threshold.query.info: 5s<br class=\"calibre21\">index.search.slowlog.threshold.query.debug: 2s<br class=\"calibre21\">index.search.slowlog.threshold.query.trace: 500ms</p>\n<p class=\"calibre12\">index.search.slowlog.threshold.fetch.warn: 1s<br class=\"calibre21\">index.search.slowlog.threshold.fetch.info: 800ms<br class=\"calibre21\">index.search.slowlog.threshold.fetch.debug:500ms<br class=\"calibre21\">index.search.slowlog.threshold.fetch.trace: 200ms</p>\n\n        </div>\n    \n</div>\n\n        \n    \n\n\n\n</body></div>",
  "slug": 6588832,
  "title": "Pei Zhi Wen Jian "
}