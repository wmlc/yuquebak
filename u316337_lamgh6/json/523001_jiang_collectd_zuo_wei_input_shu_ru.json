{
  "body_html": "<div><head></head><body>&#x5C06;collectd&#x4F5C;&#x4E3A;input&#x8F93;&#x5165;\n    \n    \n    \n    \n    \n  <link href=\"https://www.yuque.com/attachments/yuque/0/2020/css/491128/1588213910235-976bcd3a-7a9c-473d-b800-1b1df54807d4.css\" rel=\"stylesheet\" type=\"text/css\">\n<link href=\"https://www.yuque.com/attachments/yuque/0/2020/css/491128/1588213910286-64db0dd0-ac29-46fb-9241-76ef318b1b53.css\" rel=\"stylesheet\" type=\"text/css\">\n\n  \n        \n<div class=\"page\">\n    \n        <h1 class=\"book-chapter\" id=\"calibre_toc_14\">&#x5C06;collectd&#x4F5C;&#x4E3A;input&#x8F93;&#x5165;</h1>\n        <div class=\"section\">\n            <h1 id=\"&#x5C06;collectd&#x4F5C;&#x4E3A;input&#x8F93;&#x5165;\" class=\"calibre7\">&#x5C06;collectd&#x4F5C;&#x4E3A;input&#x8F93;&#x5165;</h1>\n<h2 id=\"1&#x3001;yum&#x5B89;&#x88C5;collectd\" class=\"calibre8\">1&#x3001;yum&#x5B89;&#x88C5;collectd</h2>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">sudo yum -y install collectd\n</code></pre><h2 id=\"2&#x3001;&#x624B;&#x52A8;&#x6E90;&#x7801;&#x5B89;&#x88C5;collectd\" class=\"calibre13\">2&#x3001;&#x624B;&#x52A8;&#x6E90;&#x7801;&#x5B89;&#x88C5;collectd</h2>\n<h3 id=\"&#x5B89;&#x88C5;collectd&#x4F9D;&#x8D56;&#x7684;&#x8F6F;&#x4EF6;&#x5305;\" class=\"calibre9\">&#x5B89;&#x88C5;collectd&#x4F9D;&#x8D56;&#x7684;&#x8F6F;&#x4EF6;&#x5305;</h3>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">rpm -ivh &quot;http://dl.fedoraproject.org/pub/epel/6/i386/epel-release-6-8.noarch.rpm&quot;\nyum -y install libcurl libcurl-devel rrdtool rrdtool-devel perl-rrdtool rrdtool-prel libgcrypt-devel gcc make gcc-c++ liboping liboping-devel perl-CPAN net-snmp net-snmp-devel\n</code></pre><p class=\"calibre12\"><strong class=\"calibre16\">(1)&#x3001;&#x5B89;&#x88C5;epel</strong></p>\n<p class=\"calibre12\">epel&#x662F;&#xFF08;Extra Packages for Enterprise Linux &#xFF09;&#x3010;&#x4F01;&#x4E1A;&#x7248; Linux &#x9644;&#x52A0;&#x8F6F;&#x4EF6;&#x5305;(&#x4EE5;&#x4E0B;&#x7B80;&#x79F0; EPEL)&#x3011;&#x662F;&#x4E00;&#x4E2A;&#x7531;&#x7279;&#x522B;&#x5174;&#x8DA3;&#x5C0F;&#x7EC4;&#x521B;&#x5EFA;&#x3001;&#x7EF4;&#x62A4;&#x5E76;&#x7BA1;&#x7406;&#x7684;&#xFF0C;&#x9488;&#x5BF9; &#x7EA2;&#x5E3D;&#x4F01;&#x4E1A;&#x7248; Linux(RHEL)&#x53CA;&#x5176;&#x884D;&#x751F;&#x53D1;&#x884C;&#x7248;(&#x6BD4;&#x5982; CentOS&#x3001; Scientific Linux)&#x7684;&#x4E00;&#x4E2A;&#x9AD8;&#x8D28;&#x91CF;&#x9644;&#x52A0;&#x8F6F;&#x4EF6;&#x5305;&#x9879;&#x76EE;&#x3002; </p>\n<p class=\"calibre12\"><strong class=\"calibre16\">&#xFF08;2&#xFF09;&#x3001;&#x5B89;&#x88C5;&#x76F8;&#x5173;&#x7684;&#x4F9D;&#x8D56;&#x5E93;</strong></p>\n<ul class=\"calibre17\">\n<li class=\"calibre18\"><p class=\"calibre12\">libcurl:\n  &#x662F;&#x4E00;&#x4E2A;&#x5173;&#x4E8E;http&#xFF0C;ftp&#x7B49;&#x534F;&#x8BAE;&#x7684;&#x5F00;&#x6E90;&#x5E93;&#xFF0C;&#x901A;&#x8FC7;&#x8BE5;&#x5E93;&#x4F60;&#x80FD;&#x591F;&#x6A21;&#x62DF;&#x51FA;&#x8FD9;&#x4E9B;&#x534F;&#x8BAE;&#x7684;&#x8FC7;&#x7A0B;&#xFF1B;&#x53EF;&#x5728; <a href=\"http:_curl.haxx.se_download\" target=\"_blank\" class=\"pcalibre pcalibre2 pcalibre1 calibre20\">http://curl.haxx.se/download.html</a> &#x4E0B;&#x8F7D;&#x7B26;&#x5408;&#x4F60;&#x8981;&#x6C42;&#x7684;&#x5E73;&#x53F0;&#xFF1B;</p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">libcurl-devel:</p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">rrdtool: \n  RRDtool&#x662F;&#x6307;Round Robin Database &#x5DE5;&#x5177;&#xFF08;&#x73AF;&#x72B6;&#x6570;&#x636E;&#x5E93;&#xFF09;&#x3002;Round robin&#x662F;&#x4E00;&#x79CD;&#x5904;&#x7406;&#x5B9A;&#x91CF;&#x6570;&#x636E;&#x3001;&#x4EE5;&#x53CA;&#x5F53;&#x524D;&#x5143;&#x7D20;&#x6307;&#x9488;&#x7684;&#x6280;&#x672F;&#x3002;&#x60F3;&#x8C61;&#x4E00;&#x4E2A;&#x5468;&#x8FB9;&#x6807;&#x6709;&#x70B9;&#x7684;&#x5706;&#x73AF;&#xFF0D;&#xFF0D;&#x8FD9;&#x4E9B;&#x70B9;&#x5C31;&#x662F;&#x65F6;&#x95F4;&#x5B58;&#x50A8;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x4ECE;&#x5706;&#x5FC3;&#x753B;&#x4E00;&#x6761;&#x5230;&#x5706;&#x5468;&#x7684;&#x67D0;&#x4E2A;&#x70B9;&#x7684;&#x7BAD;&#x5934;&#xFF0D;&#xFF0D;&#x8FD9;&#x5C31;&#x662F;&#x6307;&#x9488;&#x3002;&#x5C31;&#x50CF;&#x6211;&#x4EEC;&#x5728;&#x4E00;&#x4E2A;&#x5706;&#x73AF;&#x4E0A;&#x4E00;&#x6837;&#xFF0C;&#x6CA1;&#x6709;&#x8D77;&#x70B9;&#x548C;&#x7EC8;&#x70B9;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4E00;&#x76F4;&#x5F80;&#x4E0B;&#x8D70;&#x4E0B;&#x53BB;&#x3002;&#x8FC7;&#x6765;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x6240;&#x6709;&#x53EF;&#x7528;&#x7684;&#x4F4D;&#x7F6E;&#x90FD;&#x4F1A;&#x88AB;&#x7528;&#x8FC7;&#xFF0C;&#x8BE5;&#x5FAA;&#x73AF;&#x8FC7;&#x7A0B;&#x4F1A;&#x81EA;&#x52A8;&#x91CD;&#x7528;&#x539F;&#x6765;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x6570;&#x636E;&#x96C6;&#x4E0D;&#x4F1A;&#x589E;&#x5927;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x9700;&#x8981;&#x7EF4;&#x62A4;&#x3002;RRDtool&#x5904;&#x7406;RRD&#x6570;&#x636E;&#x5E93;&#x3002;&#x5B83;&#x7528;&#x5411;RRD&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x3001;&#x4ECE;RRD&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x63D0;&#x53D6;&#x6570;&#x636E;&#x3002;</p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">rrdtool-devel:</p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">perl-rrdtool:</p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">rrdtool-prel&#xFF1A;&#x627E;&#x4E0D;&#x5230;&#x8BE5;&#x5305;</p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">libgcrypt:\nlibgcrypt&#x4F7F;&#x7528;&#x4E00;&#x4E9B;&#x4E0D;&#x900F;&#x660E;&#x7684;&#x53D8;&#x957F;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x8868;&#x793A;&#x76F8;&#x5173;&#x7684;&#x62BD;&#x8C61;&#x6570;&#x636E;&#x7C7B;&#x578B;(&#x6216;&#x8005;&#x8BF4;&#x5BF9;&#x8C61;),&#x5B83;&#x4EEC;&#x5BF9;&#x4E8E;&#x8C03;&#x7528;libgcrypt&#x63A5;&#x53E3;&#x51FD;&#x6570;&#x7684;&#x8C03;&#x7528;&#x8005;&#x662F;&#x4E0D;&#x900F;&#x660E;&#x7684;,libgcrypt&#x4F1A;&#x586B;&#x5199;&#x76F8;&#x5173;&#x7684;&#x7ED3;&#x6784;,&#x9AD8;&#x5C42;&#x7684;API&#x8C03;&#x7528;&#x4F1A;&#x8FDB;&#x5165;&#x5230;&#x5185;&#x90E8;&#x7ED3;&#x6784;&#x4E2D;&#x7684;&#x51FD;&#x6570;&#x6307;&#x9488;&#x6307;&#x5411;&#x7684;&#x51FD;&#x6570;,&#x6240;&#x4EE5;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;libgcrypt&#x7406;&#x89E3;&#x4E3A;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x8BBE;&#x8BA1;&#x4F7F;&#x7528;&#x7ED3;&#x6784;&#x5316;&#x7F16;&#x7A0B;&#x5B9E;&#x73B0;,&#x8FD9;&#x4E0E;NT&#x5185;&#x6838;&#x7684;&#x7F16;&#x7A0B;&#x98CE;&#x683C;&#x4E00;&#x81F4;.</p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">libgcrypt-devel&#xFF1A; </p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">gcc:</p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">make: </p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">gcc-c++: </p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">liboping: </p>\n<p class=\"calibre12\">&#x662F;&#x4E00;&#x4E2A;C&#x5E93;&#x901A;&#x8FC7;&#x4F7F;&#x7528;ICMP&#x56DE;&#x5E94;&#x8BF7;&#x6C42;&#x6765;&#x8861;&#x91CF;&#x7F51;&#x7EDC;&#x5EF6;&#x8FDF;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5E76;&#x884C;&#x7684;&#x4ECE;&#x591A;&#x4E2A;&#x4E3B;&#x673A;&#x53D1;&#x9001;&#x548C;&#x63A5;&#x6536;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x975E;&#x5E38;&#x9002;&#x5408;&#x6765;&#x505A;&#x76D1;&#x63A7;&#x7A0B;&#x5E8F;&#x3002; &#x900F;&#x660E;&#x7684;&#x652F;&#x6301;IPv4&#x548C;IPv6&#x3002;</p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">liboping-devel:</p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">perl-CPAN: </p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">net-snmp: </p>\n<p class=\"calibre12\">Net-SNMP&#x662F;&#x4E00;&#x4E2A;&#x514D;&#x8D39;&#x7684;&#x3001;&#x5F00;&#x653E;&#x6E90;&#x7801;&#x7684;SNMP&#x5B9E;&#x73B0;&#xFF0C;&#x4EE5;&#x524D;&#x79F0;&#x4E3A;UCD-SNMP&#x3002;&#x5B83;&#x5305;&#x62EC;agent&#x548C;&#x591A;&#x4E2A;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x652F;&#x6301;&#x591A;&#x79CD;&#x6269;&#x5C55;&#x65B9;&#x5F0F;&#x3002;\n&#x7B80;&#x5355;&#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x534F;&#x8BAE;&#xFF08;SNMP&#xFF09;</p>\n</li>\n<li class=\"calibre18\"><p class=\"calibre12\">net-snmp-devel:</p>\n</li>\n</ul>\n<h3 id=\"&#x6E90;&#x7801;&#x5B89;&#x88C5;collectd\" class=\"calibre9\">&#x6E90;&#x7801;&#x5B89;&#x88C5;collectd</h3>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">wget https://collectd.org/files/collectd-5.5.0.tar.gz\ntar zxvf collectd-5.5.0.tar.gz\ncd collectd-5.5.0\n./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var --libdir=/usr/lib --mandir=/usr/share/man --enable-all-plugins\nmake &amp;&amp; make install\n</code></pre><p class=\"calibre12\">&#x6CE8;&#xFF1A;&#x5982;&#x56FE;&#x6240;&#x793A; configure &#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x7684;Perl&#x811A;&#x672C;\n<img alt src=\"data/img/1588213912973-0900ecce-181c-488c-a92a-7609a0616769.png\" class=\"calibre14\"></p>\n<h3 id=\"&#x5B89;&#x88C5;&#x542F;&#x52A8;&#x811A;&#x672C;\" class=\"calibre9\">&#x5B89;&#x88C5;&#x542F;&#x52A8;&#x811A;&#x672C;</h3>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">cp contrib/redhat/init.d-collectd /etc/init.d/collectd\nchmod +x /etc/init.d/collectd\n</code></pre><h3 id=\"&#x542F;&#x52A8;collectd\" class=\"calibre9\">&#x542F;&#x52A8;collectd</h3>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">service collectd start\n</code></pre><h2 id=\"3&#x3001;&#x624B;&#x52A8;&#x5B89;&#x88C5;2\" class=\"calibre13\">3&#x3001;&#x624B;&#x52A8;&#x5B89;&#x88C5;2</h2>\n<h3 id=\"31&#x3001;&#x5B89;&#x88C5;perl\" class=\"calibre9\">3.1&#x3001;&#x5B89;&#x88C5;perl</h3>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">yum install perl*\nyum install cpan\n</code></pre><p class=\"calibre12\">&#x4E0D;&#x5B89;&#x88C5;perl&#x7684;&#x8BDD;&#xFF0C;&#x5B89;&#x88C5;&#x4F1A;&#x9047;&#x5230;&#x9519;&#x8BEF;</p>\n<h3 id=\"32&#x3001;&#x5B89;&#x88C5;collectd\" class=\"calibre9\">3.2&#x3001;&#x5B89;&#x88C5;collectd</h3>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">wget https://collectd.org/files/collectd-5.5.2.tar.gz\ntar zxvf collectd-5.5.2.tar.gz\ncd collectd-5.5.2\n./configure \nmake \nmake install\n</code></pre><p class=\"calibre12\">&#x901A;&#x8FC7;&#x4E0A;&#x8FB9;&#x51E0;&#x6761;&#x547D;&#x4EE4;&#x5B9E;&#x73B0;&#xFF1A;&#x4E0B;&#x8F7D;collectd&#x6E90;&#x7801;&#x3001;&#x8FDB;&#x884C;&#x89E3;&#x538B;&#x7F29;&#x3001;&#x914D;&#x7F6E;&#x3001;make&#x7F16;&#x8BD1;&#x3001;&#x5B89;&#x88C5;</p>\n<h3 id=\"33&#x3001;&#x914D;&#x7F6E;collectd&#x670D;&#x52A1;&#x811A;&#x672C;\" class=\"calibre9\">3.3&#x3001;&#x914D;&#x7F6E;collectd&#x670D;&#x52A1;&#x811A;&#x672C;</h3>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">cp contrib/redhat/init.d-collectd /etc/init.d/collectd\nchmod +x /etc/init.d/collectd\n</code></pre><p class=\"calibre12\">&#x9700;&#x8981;&#x5BF9;&#x539F;&#x6709;&#x7684;&#x542F;&#x52A8;&#x811A;&#x672C;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x811A;&#x672C;&#x5185;&#x5BB9;&#x9700;&#x8981;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">[root@t0-security-tdas02 init.d]# cat collectd\n#!/bin/bash\n#\n# collectd    Startup script for the Collectd statistics gathering daemon\n# chkconfig: - 99 01\n# description: Collectd is a statistics gathering daemon used to collect \\\n#   system information ie. cpu, memory, disk, network\n# processname: collectd\n# config: /etc/collectd.conf\n# config: /etc/sysconfig/collectd\n# pidfile: /var/run/collectd.pid\n\n# Source function library.\n. /etc/init.d/functions\n\nRETVAL=0\nARGS=&quot;&quot;\n#prog=&quot;collectdmon&quot; #&#x539F;&#x6709;&#x503C;\nprog=&quot;/opt/collectd/sbin/collectdmon&quot;\nservice=&quot;collectd&quot;\n#CONFIG=/etc/collectd.conf #&#x539F;&#x6709;&#x503C;\nCONFIG=/opt/collectd/etc/collectd.conf\n#COLLECTD=/usr/sbin/collectd  #&#x539F;&#x6709;&#x503C;\nCOLLECTD=/opt/collectd/sbin/collectd\nCOLLECTDMONPIDDIR=&quot;/var/run&quot;\nCOLLECTDMONPID=&quot;$COLLECTDMONPIDDIR/collectdmon.pid&quot;\n\nMAXWAIT=30\n\n#&#x540E;&#x7EED;&#x90E8;&#x5206;&#x7701;&#x7565;\n</code></pre><h3 id=\"34&#x3001;&#x670D;&#x52A1;&#x64CD;&#x4F5C;\" class=\"calibre9\">3.4&#x3001;&#x670D;&#x52A1;&#x64CD;&#x4F5C;</h3>\n<p class=\"calibre12\">&#x542F;&#x52A8;&#x670D;&#x52A1;&#xFF1A;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">/etc/init.d/collectd start\n</code></pre><p class=\"calibre12\">&#x505C;&#x6B62;&#x670D;&#x52A1;&#xFF1A;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">/etc/init.d/collectd stop\n</code></pre><p class=\"calibre12\">&#x91CD;&#x542F;&#x670D;&#x52A1;&#xFF1A;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">/etc/init.d/collectd restart\n</code></pre><p class=\"calibre12\">&#x542F;&#x52A8;&#x8FD8;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x9700;&#x8981;&#x6392;&#x67E5;&#x539F;&#x56E0;\n&#x901A;&#x8FC7;&#x8FD9;&#x4E24;&#x4E2A;&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x6392;&#x67E5;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">systemctl status collectd.service\njournalctl -xe\n</code></pre><h3 id=\"35&#x3001;&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;\" class=\"calibre9\">3.5&#x3001;&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;</h3>\n<p class=\"calibre12\">&#x67E5;&#x627E;&#x81EA;&#x542F;&#x52A8;&#x914D;&#x7F6E;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">chkconfig --list\n</code></pre><p class=\"calibre12\">&#x4E3A;collect&#x6DFB;&#x52A0;&#x81EA;&#x542F;&#x52A8;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">chkconfig collectd on\n</code></pre><h2 id=\"4&#x3001;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;\" class=\"calibre13\">4&#x3001;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h2>\n<p class=\"calibre12\">&#x901A;&#x8FC7;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x8C03;&#x6574;&#x76D1;&#x63A7;&#x5185;&#x5BB9;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#xFF1A;<code class=\"pcalibre5 pcalibre6 calibre19\">/opt/collectd/etc/collectd.conf</code></p>\n<p class=\"calibre12\">&#x63D2;&#x4EF6;&#x5206;&#x4E3A;&#x8F93;&#x51FA;&#x63D2;&#x4EF6;&#xFF08;input&#xFF09;&#x3001;&#x8F93;&#x51FA;&#x63D2;&#x4EF6;&#xFF08;output&#xFF09;&#x3001;&#x65E5;&#x5FD7;&#x63D2;&#x4EF6;&#xFF08;log&#xFF09;&#x3002;&#x5176;&#x4E2D;&#x8F93;&#x5165;&#x63D2;&#x4EF6;&#x7528;&#x6765;&#x6536;&#x96C6;&#x76D1;&#x63A7;&#x6570;&#x636E;&#xFF1B;&#x8F93;&#x51FA;&#x63D2;&#x4EF6;&#x7528;&#x6765;&#x5C06;&#x83B7;&#x5F97;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4FDD;&#x5B58;&#x6216;&#x53D1;&#x9001;&#xFF1B;&#x65E5;&#x5FD7;&#x63D2;&#x4EF6;&#x7528;&#x6765;&#x8BB0;&#x5F55;collect&#x7A0B;&#x5E8F;&#x672C;&#x8EAB;&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x51B5;&#x3002;</p>\n<h2 id=\"9&#x3001;&#x9519;&#x8BEF;&#x5904;&#x7406;\" class=\"calibre13\">9&#x3001;&#x9519;&#x8BEF;&#x5904;&#x7406;</h2>\n<h3 id=\"91&#x3001;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x9519;&#x8BEF;\" class=\"calibre9\">9.1&#x3001;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x9519;&#x8BEF;</h3>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">##&#x542F;&#x52A8;&#x670D;&#x52A1;&#x63D0;&#x793A;&#x9519;&#x8BEF;\nservice collectd start \n##&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#xFF0C;&#x67E5;&#x770B;&#x9519;&#x8BEF;&#x8BE6;&#x60C5;\nsystemctl status collectd.service\n</code></pre><pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">collectd.service - SYSV: Collectd is a statistics gathering daemon used to collect system information ie. cpu, memory, disk, network\n   Loaded: loaded (/etc/rc.d/init.d/collectd)\n   Active: failed (Result: resources) since &#x56DB; 2016-08-04 15:13:52 CST; 4min 20s ago\n     Docs: man:systemd-sysv-generator(8)\n  Process: 27156 ExecStart=/etc/rc.d/init.d/collectd start (code=exited, status=0/SUCCESS)\n\n8&#x6708; 04 15:13:52 localhost.localdomain systemd[1]: Starting SYSV: Collectd is a statistics gathering daemon used to collect system information ie. cpu, memory, disk, network...\n8&#x6708; 04 15:13:52 localhost.localdomain collectd[27156]: Starting collectd: not starting due to configuration error\n8&#x6708; 04 15:13:52 localhost.localdomain collectd[27156]: [&#x5931;&#x8D25;]\n8&#x6708; 04 15:13:52 localhost.localdomain systemd[1]: PID file /var/run/collectd.pid not readable (yet?) after start.\n8&#x6708; 04 15:13:52 localhost.localdomain systemd[1]: Failed to start SYSV: Collectd is a statistics gathering daemon used to collect system information ie. cpu, memory, disk, network.\n8&#x6708; 04 15:13:52 localhost.localdomain systemd[1]: Unit collectd.service entered failed state.\n8&#x6708; 04 15:13:52 localhost.localdomain systemd[1]: collectd.service failed.\n</code></pre><p class=\"calibre12\">&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">/etc/init.d/collectd\n</code></pre><p class=\"calibre12\">&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x8FDB;&#x884C;&#x68C0;&#x67E5;&#xFF0C;&#x786E;&#x4FDD;&#x6267;&#x884C;&#x5B9E;&#x9645;&#x7684;collect&#x76F8;&#x5173;&#x6587;&#x4EF6;</p>\n<h3 id=\"92&#x3001;collectdmon&#x7A0B;&#x5E8F;&#x627E;&#x4E0D;&#x5230;&#x95EE;&#x9898;\" class=\"calibre9\">9.2&#x3001;collectdmon&#x7A0B;&#x5E8F;&#x627E;&#x4E0D;&#x5230;&#x95EE;&#x9898;</h3>\n<p class=\"calibre12\">&#x9519;&#x8BEF;&#x63D0;&#x793A;&#xFF1A;</p>\n<p class=\"calibre12\">&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A;\n&#x5728;<code class=\"pcalibre5 pcalibre6 calibre19\">/etc/init.d/collectd</code>&#x6587;&#x4EF6;&#x4E2D;&#x5C06;collectdmon&#x7A0B;&#x5E8F;&#x7684;&#x8DEF;&#x5F84;&#x8865;&#x5145;&#x5B8C;&#x6574;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">prog=&quot;/opt/collectd/sbin/collectdmon&quot;\n</code></pre><h3 id=\"93&#x3001;\" class=\"calibre9\">9.3&#x3001;</h3>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\"> collectd.service - SYSV: Collectd is a statistics gathering daemon used to collect system information ie. cpu, memory, disk, network\n   Loaded: loaded (/etc/rc.d/init.d/collectd)\n   Active: failed (Result: timeout) since &#x56DB; 2016-08-04 15:53:11 CST; 15min ago\n     Docs: man:systemd-sysv-generator(8)\n  Process: 2156 ExecStart=/etc/rc.d/init.d/collectd start (code=exited, status=0/SUCCESS)\n   CGroup: /system.slice/collectd.service\n           &#x251C;&#x2500;2161 /opt/collectd/sbin/collectdmon -P /var/run/collectdmon.pid -c /opt/collectd/sbin/collectd -- -C /opt/collectd/etc/collectd.conf\n           &#x2514;&#x2500;2163 /opt/collectd/sbin/collectd -C /opt/collectd/etc/collectd.conf -f\n\n8&#x6708; 04 15:48:11 localhost.localdomain systemd[1]: Starting SYSV: Collectd is a statistics gathering daemon used to collect system information ie. cpu, memory, disk, network...\n8&#x6708; 04 15:48:11 localhost.localdomain runuser[2158]: pam_unix(runuser:session): session opened for user root by (uid=0)\n8&#x6708; 04 15:48:11 localhost.localdomain collectd[2156]: Starting collectd: [  &#x786E;&#x5B9A;  ]\n8&#x6708; 04 15:48:11 localhost.localdomain systemd[1]: PID file /var/run/collectd.pid not readable (yet?) after start.\n8&#x6708; 04 15:48:11 localhost.localdomain collectd[2163]: Initialization complete, entering read-loop.\n8&#x6708; 04 15:48:11 localhost.localdomain collectd[2163]: rrdtool plugin: Adjusting &quot;RandomTimeout&quot; to 0.000 seconds.\n8&#x6708; 04 15:53:11 localhost.localdomain systemd[1]: collectd.service start operation timed out. Terminating.\n8&#x6708; 04 15:53:11 localhost.localdomain systemd[1]: Failed to start SYSV: Collectd is a statistics gathering daemon used to collect system information ie. cpu, memory, disk, network.\n8&#x6708; 04 15:53:11 localhost.localdomain systemd[1]: Unit collectd.service entered failed state.\n8&#x6708; 04 15:53:11 localhost.localdomain systemd[1]: collectd.service failed.\n</code></pre>\n        </div>\n    \n</div>\n\n        \n    \n\n\n\n</body></div>",
  "slug": 6588816,
  "title": "523001_jiang_collectd_zuo_wei_input_shu_ru"
}