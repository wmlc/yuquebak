{
  "body_html": "\n\n  \n    第二节 安装\n    \n    \n    \n    \n    \n  <link href=\"https://www.yuque.com/attachments/yuque/0/2020/css/491128/1588213910235-976bcd3a-7a9c-473d-b800-1b1df54807d4.css\" rel=\"stylesheet\" type=\"text/css\" />\n<link href=\"https://www.yuque.com/attachments/yuque/0/2020/css/491128/1588213910286-64db0dd0-ac29-46fb-9241-76ef318b1b53.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n  \n        \n<div class=\"page\">\n    \n        <h1 class=\"book-chapter\" id=\"calibre_toc_30\">第二节 安装</h1>\n        <div class=\"section\">\n            <h1 id=\"第一节-安装\" class=\"calibre7\">第一节 安装</h1>\n<h2 id=\"11、判断是否安装了java\" class=\"calibre8\">1.1、判断是否安装了java</h2>\n<p class=\"calibre12\"><img alt src=\"https://cdn.nlark.com/yuque/0/2020/png/491128/1588213918439-fbd8c571-5bf2-4be7-95a1-6bacc5c6aa89.png\" class=\"calibre14\" /></p>\n<h2 id=\"12、安装java\" class=\"calibre13\">1.2、安装java</h2>\n<p class=\"calibre12\">如果没有安装java，需要先安装java</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">yum -y install java-1.8.0-openjdk*\n</code></pre><h2 id=\"13、安装elasticsearch\" class=\"calibre13\">1.3、安装Elasticsearch</h2>\n<p class=\"calibre12\">可以从这里获取elasticsearch的最新版本</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">https://www.elastic.co/downloads/elasticsearch\n</code></pre><p class=\"calibre12\"><a href=\"https://www.elastic.co/downloads/elasticsearch\" target=\"_blank\" class=\"pcalibre pcalibre2 pcalibre1 calibre20\">https://www.elastic.co/downloads/elasticsearch</a></p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">#下载Elasticsearch压缩包\nhttps://download.elastic.co/elasticsearch/release/org/elasticsearch/distribution/zip/elasticsearch/2.3.3/elasticsearch-2.3.3.zip\n\n#对elasticsearch-2.3.3.zip进行解压缩\nunzip elasticsearch-2.3.3.zip\n</code></pre><h2 id=\"14、运行elasticsearch\" class=\"calibre13\">1.4、运行Elasticsearch</h2>\n<p class=\"calibre12\">通过<code class=\"pcalibre5 pcalibre6 calibre19\">./elasticsearch</code>命令启动Elasticsearch程序，如下图所示：</p>\n<p class=\"calibre12\"><img alt src=\"https://cdn.nlark.com/yuque/0/2020/png/491128/1588213918554-7761abeb-8c14-438d-8928-b17396a119c5.png\" class=\"calibre14\" /></p>\n<p class=\"calibre12\">如果需要在后台运行Elasticsearch程序，使用命令：</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">./elasticsearch -d\n</code></pre><h2 id=\"15、判断elasticsearch是否成功运行\" class=\"calibre13\">1.5、判断elasticsearch是否成功运行</h2>\n<h3 id=\"151、查看进程的方法\" class=\"calibre9\">1.5.1、查看进程的方法</h3>\n<p class=\"calibre12\">执行命令：</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">$ ps -aux|grep elasticsearch\n</code></pre><p class=\"calibre12\">如果返回如下信息说明安装运行成功</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">anbc   2326 36.0 20.6 3175772 209756 pts/0  Sl   11:15   0:10 /bin/java\n       -Xms256m \n       -Xmx1g \n       -Djava.awt.headless=true \n       -XX:+UseParNewGC \n       -XX:+UseConcMarkSweepGC \n       -XX:CMSInitiatingOccupancyFraction=75 \n       -XX:+UseCMSInitiatingOccupancyOnly \n       -XX:+HeapDumpOnOutOfMemoryError \n       -XX:+DisableExplicitGC \n       -Dfile.encoding=UTF-8 \n       -Djna.nosys=true \n       -Des.path.home=/opt/elasticsearch \n       -cp /opt/elasticsearch/lib/elasticsearch-2.3.3.jar:\n       /opt/elasticsearch/lib/* \n       org.elasticsearch.bootstrap.Elasticsearch start -d\n</code></pre><h3 id=\"152、查看发起端口的方法\" class=\"calibre9\">1.5.2、查看发起端口的方法</h3>\n<p class=\"calibre12\">通过<code class=\"pcalibre5 pcalibre6 calibre19\">netstat -atunlp</code>命令获取当前对外开放的端口，其中的9200和9300端口就是Elasticsearch开启的端口。</p>\n<p class=\"calibre12\"><img alt src=\"https://cdn.nlark.com/yuque/0/2020/png/491128/1588213918609-9cca5c37-391b-483c-85d1-f3b6f398d696.png\" class=\"calibre14\" /></p>\n<h3 id=\"153、http访问的方法\" class=\"calibre9\">1.5.3、http访问的方法</h3>\n<p class=\"calibre12\">访问链接<code class=\"pcalibre5 pcalibre6 calibre19\">curl http://localhost:9200/?pretty</code> 返回如下内容</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">{\n  \"name\" : \"William Baker\",\n  \"cluster_name\" : \"elasticsearch\",\n  \"version\" : {\n    \"number\" : \"2.3.3\",\n    \"build_hash\" : \"218bdf10790eef486ff2c41a3df5cfa32dadcfde\",\n    \"build_timestamp\" : \"2016-05-17T15:40:04Z\",\n    \"build_snapshot\" : false,\n    \"lucene_version\" : \"5.5.0\"\n  },\n  \"tagline\" : \"You Know, for Search\"\n}\n</code></pre><h2 id=\"16、停止运行的方式\" class=\"calibre13\">1.6、停止运行的方式</h2>\n<h3 id=\"161、终止进程方法\" class=\"calibre9\">1.6.1、终止进程方法</h3>\n<p class=\"calibre12\">Ctrl+C</p>\n<h3 id=\"162、kill命令方法\" class=\"calibre9\">1.6.2、kill命令方法</h3>\n<p class=\"calibre12\">使用kill命令</p>\n<h3 id=\"163、rest-api方法\" class=\"calibre9\">1.6.3、REST API方法</h3>\n<p class=\"calibre12\">（1）、关掉整个集群：\n<code class=\"pcalibre5 pcalibre6 calibre19\">curl -XPOST http://localhost:9200/_cluster/nodes/_shutdown</code></p>\n<p class=\"calibre12\">（2）、关掉单一节点：\n```curl –XPOST<br class=\"calibre21\" /><a href=\"http://localhost:9200/_cluster/nodes/BlrmMvBdSKiCeYGsiHijdg/_shutdown\" target=\"_blank\" class=\"pcalibre pcalibre2 pcalibre1 calibre20\">http://localhost:9200/_cluster/nodes/BlrmMvBdSKiCeYGsiHijdg/_shutdown</a> </p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">其中“BlrmMvBdSKiCeYGsiHijdg”对应节点的标识符\n\n\n（3）、s查询节点标识符的方法\n```curl -XGET http://localhost:9200/_cluster/nodes/\n</code></pre><h2 id=\"17、修改elasticsearch的用户\" class=\"calibre13\">1.7、修改elasticsearch的用户</h2>\n<p class=\"calibre12\"><a href=\"http://blog.csdn.net/hong0220/article/details/50755866\" target=\"_blank\" class=\"pcalibre pcalibre2 pcalibre1 calibre20\">http://blog.csdn.net/hong0220/article/details/50755866</a></p>\n\n        </div>\n    \n</div>\n\n        \n    \n\n\n\n",
  "slug": 6588846,
  "title": "di_er_jie_an_zhuang"
}