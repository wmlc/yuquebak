{
  "body_html": "<div><head></head><body>gork &#x51C6;&#x5907;&#x5DE5;&#x4F5C;\n    \n    \n    \n    \n    \n  <link href=\"https://www.yuque.com/attachments/yuque/0/2020/css/491128/1588213910235-976bcd3a-7a9c-473d-b800-1b1df54807d4.css\" rel=\"stylesheet\" type=\"text/css\">\n<link href=\"https://www.yuque.com/attachments/yuque/0/2020/css/491128/1588213910286-64db0dd0-ac29-46fb-9241-76ef318b1b53.css\" rel=\"stylesheet\" type=\"text/css\">\n\n  \n        \n<div class=\"page\">\n    \n        <h1 class=\"book-chapter\">gork &#x51C6;&#x5907;&#x5DE5;&#x4F5C;</h1>\n        <div class=\"section\">\n            <h1 id=\"gork-&#x51C6;&#x5907;&#x5DE5;&#x4F5C;\" class=\"calibre7\">gork &#x51C6;&#x5907;&#x5DE5;&#x4F5C;</h1>\n<h2 id=\"1&#x3001;&#x8C03;&#x8BD5;&#x5DE5;&#x5177;&#x7684;&#x51C6;&#x5907;\" class=\"calibre8\">1&#x3001;&#x8C03;&#x8BD5;&#x5DE5;&#x5177;&#x7684;&#x51C6;&#x5907;</h2>\n<p class=\"calibre12\">&#x5B89;&#x88C5;ruby</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">yum install ruby\n[root@localhost ~]# yum install ruby\n[root@localhost ~]# ruby -v\nruby 2.0.0p598 (2014-11-13) [x86_64-linux]\n</code></pre><p class=\"calibre12\">&#x5B89;&#x88C5;gem&#x5305;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">[root@localhost ~]# gem install jls-grok awesome_print\nFetching: cabin-0.8.1.gem (100%)\nSuccessfully installed cabin-0.8.1\nFetching: jls-grok-0.11.3.gem (100%)\nSuccessfully installed jls-grok-0.11.3\nParsing documentation for cabin-0.8.1\nInstalling ri documentation for cabin-0.8.1\nParsing documentation for jls-grok-0.11.3\nInstalling ri documentation for jls-grok-0.11.3\nFetching: awesome_print-1.7.0.gem (100%)\nSuccessfully installed awesome_print-1.7.0\nParsing documentation for awesome_print-1.7.0\nInstalling ri documentation for awesome_print-1.7.0\n3 gems installed\n</code></pre><p class=\"calibre12\">&#x5F00;&#x53D1;&#x8C03;&#x8BD5;&#x5DE5;&#x5177;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">vim grokdebug.rb\n</code></pre><p class=\"calibre12\">&#x6CE8;&#x610F;&#xFF1A;&#x7B2C;&#x4E09;&#x884C;&#x4E2D;&#x7684;jls-grok&#x7684;&#x7248;&#x672C;&#x8981;&#x548C;&#x4E4B;&#x524D;&#x5B89;&#x88C5;&#x7684;&#x7248;&#x672C;&#x4E00;&#x81F4;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">#!/usr/bin/env ruby\nrequire &apos;rubygems&apos;\ngem &apos;jls-grok&apos;, &apos;=0.11.3&apos;\nrequire &apos;grok-pure&apos;\nrequire &apos;optparse&apos;\nrequire &apos;ap&apos;\n\noptions = {}\nARGV.push(&apos;-h&apos;) if ARGV.size === 0\nOptionParser.new do |opts|\n  opts.banner = &apos;Run grokdebug at your terminal.&apos;\n  options[:dirs] = %w(patterns)\n  options[:named] = false\n  opts.on(&apos;-d DIR1,DIR2&apos;, &apos;--dirs DIR1,DIR2&apos;, Array, &apos;Set grok patterns directories. Default: &quot;./patterns&quot;&apos;) do |value|\n    options[:dirs] = value\n  end\n  opts.on(&apos;-m MESSAGE&apos;, &apos;--msg MESSAGE&apos;, &apos;Your raw message to be matched&apos;) do |value|\n    options[:message] = value\n  end\n  opts.on(&apos;-p PATTERN&apos;, &apos;--pattern PATTERN&apos;, &apos;Your grok pattern to be compiled&apos;) do |value|\n    options[:pattern] = value\n  end\n  opts.on(&apos;-n&apos;, &apos;--named&apos;, &apos;Named captures only&apos;) do\n    options[:named] = true\n  end\nend.parse!\n\ngrok = Grok.new\noptions[:dirs].each do |dir|\n  if File.directory?(dir)\n    dir = File.join(dir, &quot;*&quot;)\n  end\n  Dir.glob(dir).each do |file|\n    grok.add_patterns_from_file(file)\n  end\nend\ngrok.compile(options[:pattern], options[:named])\nap grok.match(options[:message]).captures()\n</code></pre><h2 id=\"2&#x3001;grokdebug&#x7684;&#x4F7F;&#x7528;\" class=\"calibre13\">2&#x3001;grokdebug&#x7684;&#x4F7F;&#x7528;</h2>\n<p class=\"calibre12\">&#x4F8B;&#x5982;&#xFF1A;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">./grokdebug.rb \n                 -d /root/logstash-patterns-core/patterns \n                 -m &quot;5.3.244.1 GET /index.html 15824 0.043&quot; \n                 -p &quot;%{IP:client} %{WORD:method} %{URIPATHPARAM:request} %{NUMBER:bytes} %{NUMBER:duration}&quot;\n</code></pre><p class=\"calibre12\">&#x5176;&#x4E2D;&#xFF1A;</p>\n<ul class=\"calibre17\">\n<li class=\"calibre18\">-d :&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x5DF2;&#x6709;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x3002;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x6307;&#x5411;<code class=\"pcalibre5 pcalibre6 calibre19\">logstash-patterns-core</code>&#x9879;&#x76EE;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF1B;&#x4E5F;&#x53EF;&#x4EE5;&#x6307;&#x5411;logstash&#x7A0B;&#x5E8F;&#x7684;<code class=\"pcalibre5 pcalibre6 calibre19\">/opt/logstash/vendor/bundle/jruby/1.9/gems/logstash-patterns-core-2.0.5</code></li>\n<li class=\"calibre18\">-m :&#x5F85;&#x89E3;&#x6790;&#x7684;&#x76EE;&#x6807;&#x5B57;&#x7B26;&#x4E32;</li>\n<li class=\"calibre18\">-p :&#x7528;&#x4E8E;&#x89E3;&#x6790;&#x76EE;&#x6807;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</li>\n</ul>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">{\n       &quot;client&quot; =&gt; [\n        [0] &quot;5.3.244.1&quot;\n    ],\n         &quot;IPV6&quot; =&gt; [\n        [0] nil\n    ],\n         &quot;IPV4&quot; =&gt; [\n        [0] &quot;5.3.244.1&quot;\n    ],\n       &quot;method&quot; =&gt; [\n        [0] &quot;GET&quot;\n    ],\n      &quot;request&quot; =&gt; [\n        [0] &quot;/index.html&quot;\n    ],\n      &quot;URIPATH&quot; =&gt; [\n        [0] &quot;/index.html&quot;\n    ],\n     &quot;URIPARAM&quot; =&gt; [\n        [0] nil\n    ],\n        &quot;bytes&quot; =&gt; [\n        [0] &quot;15824&quot;\n    ],\n    &quot;BASE10NUM&quot; =&gt; [\n        [0] &quot;15824&quot;,\n        [1] &quot;0.043&quot;\n    ],\n     &quot;duration&quot; =&gt; [\n        [0] &quot;0.043&quot;\n    ]\n}\n</code></pre><h2 id=\"3&#x3001;&#x90E8;&#x7F72;rails\" class=\"calibre13\">3&#x3001;&#x90E8;&#x7F72;Rails</h2>\n<h3 id=\"31&#x3001;&#x5B89;&#x88C5;rvm\" class=\"calibre9\">3.1&#x3001;&#x5B89;&#x88C5;rvm</h3>\n<ul class=\"calibre17\">\n<li class=\"calibre18\">rvm &#x5168;&#x79F0;Ruby Version Manager&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x597D;ruby&#x7248;&#x672C;&#x7BA1;&#x7406;&#x548C;&#x5B89;&#x88C5;&#x5DE5;&#x5177;&#x3002;</li>\n</ul>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">curl -sSL https://get.rvm.io | bash -s stable\n</code></pre><ul class=\"calibre17\">\n<li class=\"calibre18\">&#x51FA;&#x9519;&#x540E;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x89E3;&#x51B3;&#x9519;&#x8BEF;<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">curl -sSL https://rvm.io/mpapis.asc | gpg2 --import -\n</code></pre></li>\n</ul>\n<ul class=\"calibre17\">\n<li class=\"calibre18\">&#x5B89;&#x88C5;rails</li>\n</ul>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">gem install rails\n</code></pre><p class=\"calibre12\">&#x5B89;&#x88C5;rails&#x6846;&#x67B6;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">[root@localhost ~]# gem install rails\n</code></pre><p class=\"calibre12\">rails &#x90E8;&#x7F72;&#x5B89;&#x88C5;&#xFF1A;\n<a href=\"http:_guides.ruby-china.org_getting_started\" target=\"_blank\" class=\"pcalibre pcalibre2 pcalibre1 calibre20\">http://guides.ruby-china.org/getting_started.html</a></p>\n<p class=\"calibre12\">Rails&#x4E2D;Bootstrap&#x7684;&#x5B89;&#x88C5;&#x548C;&#x4F7F;&#x7528;\n<a href=\"http://blog.csdn.net/lissdy/article/details/9195651\" target=\"_blank\" class=\"pcalibre pcalibre2 pcalibre1 calibre20\">http://blog.csdn.net/lissdy/article/details/9195651</a></p>\n<p class=\"calibre12\"><a href=\"http://my.oschina.net/u/913344/blog/365433\" target=\"_blank\" class=\"pcalibre pcalibre2 pcalibre1 calibre20\">http://my.oschina.net/u/913344/blog/365433</a>\nRails&#x4E2D;&#x4F7F;&#x7528;Bootstrap<br class=\"calibre21\"><a href=\"http://blog.163.com/fuhaocn@126/blog/static/366650802013414262295/\" target=\"_blank\" class=\"pcalibre pcalibre2 pcalibre1 calibre20\">http://blog.163.com/fuhaocn@126/blog/static/366650802013414262295/</a></p>\n\n        </div>\n    \n</div>\n\n        \n    \n\n\n\n</body></div>",
  "slug": 6588892,
  "title": "gork_zhun_bei_gong_zuo"
}