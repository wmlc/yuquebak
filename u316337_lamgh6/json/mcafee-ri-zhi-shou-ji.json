{
  "body_html": "<div><head></head><body>McAfee &#x65E5;&#x5FD7;&#x6536;&#x96C6;\n    \n    \n    \n    \n    \n  <link href=\"https://www.yuque.com/attachments/yuque/0/2020/css/491128/1588213910235-976bcd3a-7a9c-473d-b800-1b1df54807d4.css\" rel=\"stylesheet\" type=\"text/css\">\n<link href=\"https://www.yuque.com/attachments/yuque/0/2020/css/491128/1588213910286-64db0dd0-ac29-46fb-9241-76ef318b1b53.css\" rel=\"stylesheet\" type=\"text/css\">\n\n  \n        \n<div class=\"page\">\n    \n        <h1 class=\"book-chapter\" id=\"calibre_toc_54\">McAfee &#x65E5;&#x5FD7;&#x6536;&#x96C6;</h1>\n        <div class=\"section\">\n            <h1 id=\"mcafee&#x65E5;&#x5FD7;&#x6570;&#x636E;&#x6536;&#x96C6;\" class=\"calibre7\">McAfee&#x65E5;&#x5FD7;&#x6570;&#x636E;&#x6536;&#x96C6;</h1>\n<p class=\"calibre12\">McAfee&#x91C7;&#x7528;&#x8BB2;&#x65E5;&#x5FD7;&#x6570;&#x636E;&#x4F7F;&#x7528;ssl&#x52A0;&#x5BC6;&#x540E;&#xFF0C;&#x901A;&#x8FC7;syslog&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x8F93;&#x51FA;&#x7ED9;&#x65E5;&#x5FD7;&#x6570;&#x636E;&#x6536;&#x96C6;&#x7AEF;&#x3002;</p>\n<h2 id=\"1&#x3001;&#x65E5;&#x5FD7;&#x6536;&#x96C6;&#x7AEF;&#x914D;&#x7F6E;\" class=\"calibre13\">1&#x3001;&#x65E5;&#x5FD7;&#x6536;&#x96C6;&#x7AEF;&#x914D;&#x7F6E;</h2>\n<p class=\"calibre12\">&#x91C7;&#x7528;logstash&#x65B9;&#x6848;&#x3002;</p>\n<h3 id=\"11&#x3001;&#x5B89;&#x88C5;openssl-&#x751F;&#x6210;ssl&#x8BC1;&#x4E66;\" class=\"calibre9\">1.1&#x3001;&#x5B89;&#x88C5;openssl &#x751F;&#x6210;ssl&#x8BC1;&#x4E66;</h3>\n<ul class=\"calibre17\">\n<li class=\"calibre18\">&#x5B89;&#x88C5;openssl&#x8F6F;&#x4EF6;&#xFF0C;centos&#x4E2D;&#x9ED8;&#x8BA4;&#x4F1A;&#x5B89;&#x88C5;&#x8BE5;&#x8F6F;&#x4EF6;&#x3002;</li>\n</ul>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">yum install openssl\n</code></pre><ul class=\"calibre17\">\n<li class=\"calibre18\">&#x751F;&#x6210;ssl&#x8BC1;&#x4E66;</li>\n</ul>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">[secure@p0-secure-log-logstash02 .ssh]$ openssl req -newkey rsa:2048 -nodes -keyout /home/secure/.ssh/syslogselfsigned.key -x509 -days 365 -out /home/secure/.ssh/syslogselfsigned.crt \nGenerating a 2048 bit RSA private key\n...+++\n.............................................................................................+++\nwriting new private key to &apos;/home/secure/.ssh/syslogselfsigned.key&apos;\n-----\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter &apos;.&apos;, the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:\nState or Province Name (full name) []:\nLocality Name (eg, city) [Default City]:\nOrganization Name (eg, company) [Default Company Ltd]:\nOrganizational Unit Name (eg, section) []:\nCommon Name (eg, your name or your server&apos;s hostname) []:\nEmail Address []:\n[secure@p0-secure-log-logstash02 .ssh]$\n</code></pre><h2 id=\"12&#x3001;&#x914D;&#x7F6E;logstash&#x6587;&#x4EF6;\" class=\"calibre13\">1.2&#x3001;&#x914D;&#x7F6E;logstash&#x6587;&#x4EF6;</h2>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">[secure@p0-secure-log-logstash02 config]$ pwd\n/u01/logstash-5.2.2/config\n[secure@p0-secure-log-logstash02 config]$ vim  logstash.conf\n</code></pre><p class=\"calibre12\">&#x5177;&#x4F53;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A;</p>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">input \n{  \n    tcp\n    {\n        port =&gt; 514\n        ssl_cert =&gt; &quot;/home/secure/.ssh/syslogselfsigned.crt&quot;\n        ssl_key =&gt; &quot;/home/secure/.ssh/syslogselfsigned.key&quot;\n        ssl_enable =&gt; true\n        ssl_verify =&gt; false\n    }\n\n    stdin {}\n}\noutput \n{\n    stdout { codec=&gt; rubydebug }\n\n    file\n    {\n        path=&gt;&quot;/u01/logstash-5.2.2/logs/logstash.%{+YYYY.MM.dd}.log&quot;\n        codec =&gt; rubydebug\n    }\n}\n</code></pre><h2 id=\"2&#x3001;&#x65E5;&#x5FD7;&#x53D1;&#x9001;&#x7AEF;&#x914D;&#x7F6E;\" class=\"calibre13\">2&#x3001;&#x65E5;&#x5FD7;&#x53D1;&#x9001;&#x7AEF;&#x914D;&#x7F6E;</h2>\n<p class=\"calibre12\">&#x201C;&#x5DF2;&#x6CE8;&#x518C;&#x670D;&#x52A1;&#x5668;&#x201D; -&gt; &quot;Syslog &#x670D;&#x52A1;&#x5668;&quot; -&gt;&quot;&#x64CD;&#x4F5C;&quot; -&gt; &quot;&#x7F16;&#x8F91;&quot; -&gt; &quot;&#x4E0B;&#x4E00;&#x6B65;&quot; -&gt;&#x201C;&#x6D4B;&#x8BD5;&#x8FDE;&#x63A5;&#x201D;-&gt; &quot;&#x4FDD;&#x5B58;&quot;</p>\n<p class=\"calibre12\"><img alt src=\"data/img/1588213933360-1fe576d8-4820-4f98-ba04-f73f310488a3.png\" class=\"calibre14\"></p>\n<h2 id=\"3&#x3001;&#x6D4B;&#x8BD5;&#x6210;&#x529F;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;\" class=\"calibre13\">3&#x3001;&#x6D4B;&#x8BD5;&#x6210;&#x529F;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;</h2>\n<pre class=\"calibre10\"><code class=\"pcalibre4 pcalibre3 calibre11\">[2017-09-04T14:51:40,274][INFO ][logstash.pipeline        ] Pipeline main started\nThe stdin plugin is now waiting for input:\n[2017-09-04T14:51:40,359][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=&gt;9600}\n{\n    &quot;@timestamp&quot; =&gt; 2017-09-04T06:54:24.935Z,\n          &quot;port&quot; =&gt; 63532,\n      &quot;@version&quot; =&gt; &quot;1&quot;,\n          &quot;host&quot; =&gt; &quot;10.129.160.41&quot;,\n       &quot;message&quot; =&gt; &quot;&lt;29&gt;1 2017-09-04T06:54:24.0Z TKEPO-APP EPOEvents - EventFwd [agentInfo@3401 tenantId=\\&quot;1\\&quot;] ?If you can see this, ePO has successfully tested the connection to your syslog receiver.\\r&quot;\n}\n</code></pre>\n        </div>\n    \n</div>\n\n        \n    \n\n\n\n</body></div>",
  "slug": 6588900,
  "title": "mcafee-ri-zhi-shou-ji"
}